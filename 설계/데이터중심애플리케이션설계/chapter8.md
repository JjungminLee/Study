## 선형성

- 선형성 시스템에서는 클라이언트가 쓰기를 완료하자마자 그 데이터베이스를 읽는 모든 클라이언트는 방금 쓰여진 값을 볼수 있어야한다.
- 최신성 보장
- 시스템에 선형성을 보장하는 것은 무엇일까?
  - 데이터 복사본이 하나뿐인것처럼 보이게 하는거!
- 선형성과 직렬성의 차이
  - 선형성
    - 개별 객체에 실행되는 읽기와 쓰기의 최신성 보장
  - 직렬성
    - 모든 트랜잭션이 여러 객체를 읽고 쓸수 있는 상황에서의 트랜잭션들의 격리 속성
- 어떤 경우 선형성이 필요할까?
  - 단일 리더 복제 사용하는 시스템
  - 유일성 제약조건
    - 사용자명이나 이메일 주소로 유일하게 식별할수 있어야하는경우

### CAP 정리

- 애플리케이션에서 선형성을 요구하고 네트워크 문제때문에 일부 복제서버가 다른 복제서버와 연결이 끊기면 ?
  - 네트워크 문제가 고쳐질때까지 기다리거나 오류 반환
  - 가용성이 없음
- 애플리케이션에서 선형성 요구하지 않으면 연결이 끊기더라도 독립적으로 요청을 처리하는 방식으로 쓰기 처리 가능
  - 가용한 상태 유지하지만 선형적이지 않음
- 네트워크가 올바르게 동작할때는 시스템이 일관성(선형성)과 가용성 모두 제공 가능
- 네트워크 결함이 생기면 둘 중 하나 선택해야함
- CAP은 피하는게 최선이다.
  - 실용적이지 않다

### 선형성과 인과성

- 선형성은 연산의 전체순서를 정함
  - 시스템이 데이터 복사본이 하나만 있는것 처럼 동작
  - 모든 연산이 원자적이면 어떤 두 연산에 대해 항상 둘 중 하나가 먼저 실행됐다고 말할 수 있음
- 인과성은 부분순서를 정함
  - 두 연산 중 어떤 것도 다른것보다 먼저 실행되지 않았다면 두 연산이 동시적이라고 말함
    - 동시성은 타임이라인 갈라졌다 다시 합쳐짐
  - 더 약한 일관성 모델을 제공
  - 선형성의 코디네이션 오버헤드가 없고 네트워크 문제에 덜 민감
- 선형성은 인과성을 내포한다

### **📌 정족수(Quorum)란?**

**정족수(Quorum)**는 **어떤 결정을 내리기 위해 필요한 최소한의 참여자 수**를 의미
