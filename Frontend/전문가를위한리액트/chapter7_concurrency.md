## Recap : 파이버 재조정자

- 리액트 동시성 렌더링 엔진의 핵심
- 작업을 더 작은 덩어리로 나누고, 실행 우선순위를 관리한다
- 리액트가 작업을 중단하고 동시성 렌더리을 지원하게 해준다

## 스케쥴러

- 타이밍 관련 유틸리티를 제공하는 독립형 패키지
- 파이버 재조정자와 독립적으로 동작
- 주된 기능
  - 마이크로 테스크를 예약해서 메인스레드의 제어를 관리하고 원활한 실행을 보장
  - ensureRootIsScheduled함수
    - 렌더링 프로세스 관리하는데 중요한 역할을 함
    - 리액트의 작업예약과 렌더링 로직의 여러측면을 통합한 복잡한 함수
    - 리액트 루트에 대한 업데이트 효율적으로 관리하고 작업과 마이크로태스크를 전략적으로 예약해서 원활한 렌더링을 보장함
    - 루트 스케줄에 루트가 포함되었는지 확인
      - 루트 스케쥴?
        - 처리돼야할 루트를 표현한 목록
    - 처리하기 위한 마이크로태스크가 대기중인지 확인

### 이벤트 루프

- js엔진은 이벤트 루프를 사용해 비동기작업 관리
- 콜백 실행등 수행해야하는 작업이 있는지 계속해서 확인
- 매크로태스크 큐, 마이크로태스크큐 라는 두가지 작업 대기열에서 동작
- 매크로태스크 큐
  - 이벤트 처리, setTimeout콜백, setInterval콜백실행
- 마이크로태스크 큐
  - 더 작고 즉각적인 작업
- 마이크로태스크 큐가 더 우선순위가 높음
  - 마이크로태스크가 계속해서 마이크로태스크를 대기열에 추가하면 작업대기열이 처리되지 않는 상황이 발생
    - 기아상태

## 렌더레인

- 리액트가 업데이트에 우선순위를 설정하고 실행을 효과적으로 관리하기 위해 사용하는 메커니즘
- 긴급히 처리할 업데이트와 나중에 처리할 업데이트 결정할때 렌더라인 활용
- 비트마스크 활용해 여러 우선순위를 효율적으로 처리함

#### useTransition

- 컴포넌트에서 상태 업데이트의 우선순위 관리하고, 우선순위가 높은 업데이트로 인해 UI가 응답하지 않는것을 방지하는 강력한 훅

## 동시성 렌더링 문제

- 성능과 응답성을 높이지만 업데이트 처리순서를 예측하기 어려움

### 티어링

- 업데이트 순서가 어긋나면서 UI가 일관성을 잃음
